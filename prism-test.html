<!DOCTYPE html>
<html>
<head>
    <title>Prism.js Test - Syntax Highlighting</title>
    <!-- Prism.js CDN -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-dark.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.css" rel="stylesheet" />
    <style>
        body { 
            background: #0d1117; 
            color: #f0f6fc; 
            font-family: monospace; 
            padding: 20px; 
        }
        h1 { color: #58a6ff; }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            background: #161b22;
            border-radius: 8px;
            border: 1px solid #30363d;
        }
    </style>
</head>
<body>
    <h1>üé® Prism.js Syntax Highlighting Test</h1>
    
    <div class="test-section">
        <h2>JavaScript Canvas Code with Line Numbers:</h2>
        <pre class="line-numbers"><code class="language-javascript">// Canvas drawing example
const canvas = document.getElementById('myCanvas');
const ctx = canvas.getContext('2d');

// Set canvas dimensions
canvas.width = 400;
canvas.height = 300;

// Draw a blue rectangle
ctx.fillStyle = '#2979ff';
ctx.fillRect(20, 20, 120, 80);

// Draw rectangle border
ctx.strokeStyle = '#00c853';
ctx.lineWidth = 4;
ctx.strokeRect(20, 20, 120, 80);

// Draw a circle
ctx.beginPath();
ctx.arc(80, 60, 30, 0, 2 * Math.PI);
ctx.fillStyle = '#ffb300';
ctx.fill();

// Add some text
ctx.font = '16px Arial';
ctx.fillStyle = '#ffffff';
ctx.fillText('Canvas Art', 160, 60);

console.log('Canvas drawing complete!');</code></pre>
    </div>

    <div class="test-section">
        <h2>Dynamic Code Update Test:</h2>
        <button onclick="updateCode()" style="padding: 8px 16px; background: #238636; color: white; border: none; border-radius: 4px; cursor: pointer;">
            Update Code
        </button>
        <pre class="line-numbers"><code class="language-javascript" id="dynamic-code">// Initial code
function hello() {
    console.log('Hello, World!');
}</code></pre>
    </div>

    <script>
        // Test dynamic code updating
        function updateCode() {
            const codeElement = document.getElementById('dynamic-code');
            const newCode = `// Updated Canvas code
const canvas = document.createElement('canvas');
document.body.appendChild(canvas);

const ctx = canvas.getContext('2d');
canvas.width = 500;
canvas.height = 400;

// Create gradient
const gradient = ctx.createLinearGradient(0, 0, 500, 0);
gradient.addColorStop(0, '#ff6b6b');
gradient.addColorStop(1, '#4ecdc4');

ctx.fillStyle = gradient;
ctx.fillRect(0, 0, 500, 400);

// Add animated circle
let x = 50;
function animate() {
    ctx.clearRect(0, 0, 500, 400);
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, 500, 400);
    
    ctx.beginPath();
    ctx.arc(x, 200, 30, 0, 2 * Math.PI);
    ctx.fillStyle = '#ffffff';
    ctx.fill();
    
    x = (x + 2) % 500;
    requestAnimationFrame(animate);
}
animate();`;
            
            codeElement.textContent = newCode;
            Prism.highlightElement(codeElement);
        }

        // Initialize Prism.js when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Prism.js Test Page Loaded');
            if (typeof Prism !== 'undefined') {
                Prism.highlightAll();
                console.log('‚úÖ Prism.js highlighting applied successfully');
            } else {
                console.error('‚ùå Prism.js failed to load');
            }
        });
    </script>
</body>
</html>
